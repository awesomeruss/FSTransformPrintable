# Package - Usage


## Web Service to transform printable
### Transform printable 

## Purpose of this document
This document details the use of this package. If it's an endpoint for a form integration then it will be in enough detail to allow a form builder to add the integration into Firmstep.

## Use

http://[host]/[path]/api/transform

Post in something like this:
```
{
  "input":"&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;root&gt;\n  &lt;Section_1&gt;\n    &lt;choose&gt;\n      &lt;name&gt;choose&lt;\/name&gt;\n      &lt;type&gt;select&lt;\/type&gt;\n      &lt;id&gt;AF-Field-4cd14af7-0a30-46ea-8eb2-9eabb8d7ada8&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-e143d6cb-0e09-4a47-a499-81a1f1bb9165&lt;\/section_id&gt;\n      &lt;label&gt;choose&lt;\/label&gt;\n      &lt;value_label&gt;Yes&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;yes&lt;\/value&gt;\n      &lt;path&gt;root\/choose&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;false&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;true&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/choose&gt;\n    &lt;text1&gt;\n      &lt;name&gt;text1&lt;\/name&gt;\n      &lt;type&gt;text&lt;\/type&gt;\n      &lt;id&gt;AF-Field-54f98c67-b9d9-4309-915c-0df6b225e47a&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-e143d6cb-0e09-4a47-a499-81a1f1bb9165&lt;\/section_id&gt;\n      &lt;label&gt;text 1&lt;\/label&gt;\n      &lt;value_label&gt;&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;this is text&lt;\/value&gt;\n      &lt;path&gt;root\/text1&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;false&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/text1&gt;\n    &lt;textarea1&gt;\n      &lt;name&gt;textarea1&lt;\/name&gt;\n      &lt;type&gt;textarea&lt;\/type&gt;\n      &lt;id&gt;AF-Field-564d2e64-dbb6-4ab9-bd4d-a7dcba0b1cc0&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-e143d6cb-0e09-4a47-a499-81a1f1bb9165&lt;\/section_id&gt;\n      &lt;label&gt;textarea 1&lt;\/label&gt;\n      &lt;value_label&gt;&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;Shape up, man. You're a slacker. You wanna be a slacker for the rest of your life? Why not? Whoa, wait, Doc. Oh, then I wanna give her a call, I don't want her to worry about you. I still don't understand, how am I supposed to go to the dance with her, if she's already going to the dance with you.\n\nI guarantee it. Check out that four by four. That is hot. Someday, Jennifer, someday. Wouldn't it be great to take that truck up to the lake. Throw a couple of sleeping bags in the back. Lie out under the stars. I guarantee it. Well, Biff. Mayor Goldie Wilson, I like the sound of that.\n\nBreakfast. Hey Marty, I'm not your answering service, but you're outside pouting about the car, Jennifer Parker called you twice. This is for all you lovers out there. Hey George, buddy, hey, I've been looking all over for you. You remember me, the guy who saved your life the other day. Calvin, why do you keep calling me Calvin?&lt;\/value&gt;\n      &lt;path&gt;root\/textarea1&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;false&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;true&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/textarea1&gt;\n    &lt;subform1&gt;\n      &lt;name&gt;subform1&lt;\/name&gt;\n      &lt;type&gt;subform&lt;\/type&gt;\n      &lt;id&gt;AF-Field-9f99216f-8fec-4ded-ba75-fda0b5630d41&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-e143d6cb-0e09-4a47-a499-81a1f1bb9165&lt;\/section_id&gt;\n      &lt;label&gt;subform 1&lt;\/label&gt;\n      &lt;value_label&gt;&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;\n        &lt;Section_1&gt;\n          &lt;firstName&gt;\n            &lt;name&gt;firstName&lt;\/name&gt;\n            &lt;type&gt;text&lt;\/type&gt;\n            &lt;id&gt;AF-Field-ac54e026-4859-41cc-ac02-ddacf1d6fbe7&lt;\/id&gt;\n            &lt;value_changed&gt;true&lt;\/value_changed&gt;\n            &lt;section_id&gt;AF-Section-a77e83bf-e3ce-4a4e-ba4e-acaea0b9b893&lt;\/section_id&gt;\n            &lt;label&gt;First name&lt;\/label&gt;\n            &lt;value_label&gt;&lt;\/value_label&gt;\n            &lt;hasOther&gt;false&lt;\/hasOther&gt;\n            &lt;value&gt;asd&lt;\/value&gt;\n            &lt;path&gt;root\/subform1\/firstName&lt;\/path&gt;\n            &lt;valid&gt;true&lt;\/valid&gt;\n            &lt;totals&gt;&lt;\/totals&gt;\n            &lt;suffix&gt;&lt;\/suffix&gt;\n            &lt;prefix&gt;&lt;\/prefix&gt;\n            &lt;summary&gt;&lt;\/summary&gt;\n            &lt;hidden&gt;false&lt;\/hidden&gt;\n            &lt;_hidden&gt;false&lt;\/_hidden&gt;\n            &lt;isSummary&gt;false&lt;\/isSummary&gt;\n            &lt;staticMap&gt;false&lt;\/staticMap&gt;\n            &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n            &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n            &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n            &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n            &lt;hash&gt;&lt;\/hash&gt;\n          &lt;\/firstName&gt;\n          &lt;secondName&gt;\n            &lt;name&gt;secondName&lt;\/name&gt;\n            &lt;type&gt;text&lt;\/type&gt;\n            &lt;id&gt;AF-Field-3d8f1356-d655-4748-97e0-8a981796e3c0&lt;\/id&gt;\n            &lt;value_changed&gt;true&lt;\/value_changed&gt;\n            &lt;section_id&gt;AF-Section-a77e83bf-e3ce-4a4e-ba4e-acaea0b9b893&lt;\/section_id&gt;\n            &lt;label&gt;Second name&lt;\/label&gt;\n            &lt;value_label&gt;&lt;\/value_label&gt;\n            &lt;hasOther&gt;false&lt;\/hasOther&gt;\n            &lt;value&gt;asd&lt;\/value&gt;\n            &lt;path&gt;root\/subform1\/secondName&lt;\/path&gt;\n            &lt;valid&gt;true&lt;\/valid&gt;\n            &lt;totals&gt;&lt;\/totals&gt;\n            &lt;suffix&gt;&lt;\/suffix&gt;\n            &lt;prefix&gt;&lt;\/prefix&gt;\n            &lt;summary&gt;&lt;\/summary&gt;\n            &lt;hidden&gt;false&lt;\/hidden&gt;\n            &lt;_hidden&gt;false&lt;\/_hidden&gt;\n            &lt;isSummary&gt;false&lt;\/isSummary&gt;\n            &lt;staticMap&gt;false&lt;\/staticMap&gt;\n            &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n            &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n            &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n            &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n            &lt;hash&gt;&lt;\/hash&gt;\n          &lt;\/secondName&gt;\n        &lt;\/Section_1&gt;\n      &lt;\/value&gt;\n      &lt;value&gt;\n        &lt;Section_1&gt;\n          &lt;firstName&gt;\n            &lt;name&gt;firstName&lt;\/name&gt;\n            &lt;type&gt;text&lt;\/type&gt;\n            &lt;id&gt;AF-Field-ac54e026-4859-41cc-ac02-ddacf1d6fbe7&lt;\/id&gt;\n            &lt;value_changed&gt;true&lt;\/value_changed&gt;\n            &lt;section_id&gt;AF-Section-a77e83bf-e3ce-4a4e-ba4e-acaea0b9b893&lt;\/section_id&gt;\n            &lt;label&gt;First name&lt;\/label&gt;\n            &lt;value_label&gt;&lt;\/value_label&gt;\n            &lt;hasOther&gt;false&lt;\/hasOther&gt;\n            &lt;value&gt;sdd&lt;\/value&gt;\n            &lt;path&gt;root\/subform1\/firstName&lt;\/path&gt;\n            &lt;valid&gt;true&lt;\/valid&gt;\n            &lt;totals&gt;&lt;\/totals&gt;\n            &lt;suffix&gt;&lt;\/suffix&gt;\n            &lt;prefix&gt;&lt;\/prefix&gt;\n            &lt;summary&gt;&lt;\/summary&gt;\n            &lt;hidden&gt;false&lt;\/hidden&gt;\n            &lt;_hidden&gt;false&lt;\/_hidden&gt;\n            &lt;isSummary&gt;false&lt;\/isSummary&gt;\n            &lt;staticMap&gt;false&lt;\/staticMap&gt;\n            &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n            &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n            &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n            &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n            &lt;hash&gt;&lt;\/hash&gt;\n          &lt;\/firstName&gt;\n          &lt;secondName&gt;\n            &lt;name&gt;secondName&lt;\/name&gt;\n            &lt;type&gt;text&lt;\/type&gt;\n            &lt;id&gt;AF-Field-3d8f1356-d655-4748-97e0-8a981796e3c0&lt;\/id&gt;\n            &lt;value_changed&gt;true&lt;\/value_changed&gt;\n            &lt;section_id&gt;AF-Section-a77e83bf-e3ce-4a4e-ba4e-acaea0b9b893&lt;\/section_id&gt;\n            &lt;label&gt;Second name&lt;\/label&gt;\n            &lt;value_label&gt;&lt;\/value_label&gt;\n            &lt;hasOther&gt;false&lt;\/hasOther&gt;\n            &lt;value&gt;dddd&lt;\/value&gt;\n            &lt;path&gt;root\/subform1\/secondName&lt;\/path&gt;\n            &lt;valid&gt;true&lt;\/valid&gt;\n            &lt;totals&gt;&lt;\/totals&gt;\n            &lt;suffix&gt;&lt;\/suffix&gt;\n            &lt;prefix&gt;&lt;\/prefix&gt;\n            &lt;summary&gt;&lt;\/summary&gt;\n            &lt;hidden&gt;false&lt;\/hidden&gt;\n            &lt;_hidden&gt;false&lt;\/_hidden&gt;\n            &lt;isSummary&gt;false&lt;\/isSummary&gt;\n            &lt;staticMap&gt;false&lt;\/staticMap&gt;\n            &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n            &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n            &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n            &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n            &lt;hash&gt;&lt;\/hash&gt;\n          &lt;\/secondName&gt;\n        &lt;\/Section_1&gt;\n      &lt;\/value&gt;\n      &lt;path&gt;root\/subform1&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;\n        &lt;name&gt;firstName&lt;\/name&gt;\n        &lt;label&gt;First name&lt;\/label&gt;\n        &lt;value&gt;asd&lt;\/value&gt;\n        &lt;type&gt;text&lt;\/type&gt;\n        &lt;value_label&gt;&lt;\/value_label&gt;\n        &lt;suffix&gt;&lt;\/suffix&gt;\n        &lt;prefix&gt;&lt;\/prefix&gt;\n        &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n        &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n        &lt;_index&gt;0&lt;\/_index&gt;\n        &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;\/summary&gt;\n      &lt;summary&gt;\n        &lt;name&gt;secondName&lt;\/name&gt;\n        &lt;label&gt;Second name&lt;\/label&gt;\n        &lt;value&gt;asd&lt;\/value&gt;\n        &lt;type&gt;text&lt;\/type&gt;\n        &lt;value_label&gt;&lt;\/value_label&gt;\n        &lt;suffix&gt;&lt;\/suffix&gt;\n        &lt;prefix&gt;&lt;\/prefix&gt;\n        &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n        &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n        &lt;_index&gt;1&lt;\/_index&gt;\n        &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;\/summary&gt;\n      &lt;summary&gt;First name&lt;\/summary&gt;\n      &lt;summary&gt;Second name&lt;\/summary&gt;\n      &lt;summary&gt;firstName&lt;\/summary&gt;\n      &lt;summary&gt;secondName&lt;\/summary&gt;\n      &lt;summary&gt;\n        &lt;name&gt;firstName&lt;\/name&gt;\n        &lt;label&gt;First name&lt;\/label&gt;\n        &lt;value&gt;sdd&lt;\/value&gt;\n        &lt;type&gt;text&lt;\/type&gt;\n        &lt;value_label&gt;&lt;\/value_label&gt;\n        &lt;suffix&gt;&lt;\/suffix&gt;\n        &lt;prefix&gt;&lt;\/prefix&gt;\n        &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n        &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n        &lt;_index&gt;0&lt;\/_index&gt;\n        &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;\/summary&gt;\n      &lt;summary&gt;\n        &lt;name&gt;secondName&lt;\/name&gt;\n        &lt;label&gt;Second name&lt;\/label&gt;\n        &lt;value&gt;dddd&lt;\/value&gt;\n        &lt;type&gt;text&lt;\/type&gt;\n        &lt;value_label&gt;&lt;\/value_label&gt;\n        &lt;suffix&gt;&lt;\/suffix&gt;\n        &lt;prefix&gt;&lt;\/prefix&gt;\n        &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n        &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n        &lt;_index&gt;1&lt;\/_index&gt;\n        &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;\/summary&gt;\n      &lt;summary&gt;First name&lt;\/summary&gt;\n      &lt;summary&gt;Second name&lt;\/summary&gt;\n      &lt;summary&gt;firstName&lt;\/summary&gt;\n      &lt;summary&gt;secondName&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;false&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;true&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;true&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/subform1&gt;\n  &lt;\/Section_1&gt;\n  &lt;Section_2&gt;\n    &lt;text2&gt;\n      &lt;name&gt;text2&lt;\/name&gt;\n      &lt;type&gt;text&lt;\/type&gt;\n      &lt;id&gt;AF-Field-c0d2a390-d12a-4272-b55c-2ff45bd81c4b&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-95fea3d4-3d73-49ca-b6ca-cd8ae4c2b470&lt;\/section_id&gt;\n      &lt;label&gt;text 2&lt;\/label&gt;\n      &lt;value_label&gt;&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;yeah&lt;\/value&gt;\n      &lt;path&gt;root\/text2&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;false&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;true&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/text2&gt;\n    &lt;htmlsummary&gt;\n      &lt;name&gt;htmlsummary&lt;\/name&gt;\n      &lt;type&gt;textarea&lt;\/type&gt;\n      &lt;id&gt;AF-Field-582724af-acba-48bf-8e69-245b231cc46a&lt;\/id&gt;\n      &lt;value_changed&gt;true&lt;\/value_changed&gt;\n      &lt;section_id&gt;AF-Section-95fea3d4-3d73-49ca-b6ca-cd8ae4c2b470&lt;\/section_id&gt;\n      &lt;label&gt;htmlsummary&lt;\/label&gt;\n      &lt;value_label&gt;&lt;\/value_label&gt;\n      &lt;hasOther&gt;false&lt;\/hasOther&gt;\n      &lt;value&gt;&lt;\/value&gt;\n      &lt;path&gt;root\/htmlsummary&lt;\/path&gt;\n      &lt;valid&gt;true&lt;\/valid&gt;\n      &lt;totals&gt;&lt;\/totals&gt;\n      &lt;suffix&gt;&lt;\/suffix&gt;\n      &lt;prefix&gt;&lt;\/prefix&gt;\n      &lt;summary&gt;&lt;\/summary&gt;\n      &lt;hidden&gt;false&lt;\/hidden&gt;\n      &lt;_hidden&gt;true&lt;\/_hidden&gt;\n      &lt;isSummary&gt;false&lt;\/isSummary&gt;\n      &lt;staticMap&gt;false&lt;\/staticMap&gt;\n      &lt;isMandatory&gt;false&lt;\/isMandatory&gt;\n      &lt;isRepeatable&gt;false&lt;\/isRepeatable&gt;\n      &lt;currencyPrefix&gt;&lt;\/currencyPrefix&gt;\n      &lt;decimalPlaces&gt;&lt;\/decimalPlaces&gt;\n      &lt;hash&gt;&lt;\/hash&gt;\n    &lt;\/htmlsummary&gt;\n  &lt;\/Section_2&gt;\n&lt;\/root&gt;\n",
  "xslt":"<xsl:stylesheet version=\"1.0\"   xmlns:xsl=\"http:\/\/www.w3.org\/1999\/XSL\/Transform\">\n<xsl:output method=\"xml\" indent=\"yes\"\/>\n\t<!-- the top level of the document is the root element, which contains the form sections -->\n\t<xsl:template match=\"root\">\n\t\t<div class=\"form\">\n\t\t\t<xsl:for-each select=\".\/*\">\n\t\t\t\t<xsl:call-template name=\"formsection\"\/>\n\t\t  \t<\/xsl:for-each>\n\t\t<\/div>\n\t<\/xsl:template>\n  \n\t<!-- This template is applied to every form section, whether it is in the root form or in a subform -->\n\t<xsl:template name=\"formsection\">\n\t\t<xsl:if test=\"count(.\/*)>0\">\n\t\t\t<div class=\"section\" id=\"{name(.)}\">\n\t\t\t\t<div class=\"sectionheading\"><xsl:value-of select=\"translate(name(.),'_',' ')\"><\/xsl:value-of><\/div>\n\t\t\t\t<xsl:for-each select=\".\/*\">\n\t\t\t\t\t<xsl:choose>\n\t\t\t\t\t\t<xsl:when test=\"type ='subform'\">\n\t\t\t\t\t\t\t<xsl:call-template name=\"formsubform\"\/>\n\t\t\t\t\t\t<\/xsl:when>\n\t\t\t\t\t\t<xsl:otherwise>\n\t\t\t\t\t\t\t<xsl:call-template name=\"formfield\"\/>\n\t\t\t\t\t\t<\/xsl:otherwise>\n\t\t\t\t\t<\/xsl:choose>\n\t\t\t\t<\/xsl:for-each>\n\t\t\t<\/div>\n\t\t<\/xsl:if>\n\t<\/xsl:template>\n  \n\t<xsl:template name=\"formfield\">\n\t\t<xsl:choose>\n\t\t\t<!-- don't bother rendering fields with blank values or hidden=true -->\n\t\t\t<xsl:when test=\"(value != '') and (hidden='false') and (_hidden='false')\">\n\t\t\t\t<div class=\"field {type}\" id=\"{name(.)}\">\n\t\t\t\t\t<div class=\"caption\" ><xsl:value-of select=\"label\"><\/xsl:value-of><\/div>\n\t\t\t\t\t<div class=\"value\" ><xsl:choose><xsl:when test=\"value_label !=''\"><xsl:value-of select=\"value_label\"><\/xsl:when><xsl:otherwise><xsl:value-of select=\"value\"><\/xsl:otherwise><\/xsl:choose><\/xsl:value-of><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/xsl:when>\n\t\t\t<xsl:otherwise>\n\t\t\t\t<div class=\"field hidden {type}\" id=\"{name(.)}\">\n\t\t\t\t\t<div class=\"caption\" ><xsl:value-of select=\"label\"><\/xsl:value-of><\/div>\n\t\t\t\t\t<div class=\"value\" ><xsl:value-of select=\"value\"><\/xsl:value-of><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/xsl:otherwise>\n\t\t<\/xsl:choose>\n\t<\/xsl:template>\n\t\n\t<xsl:template name=\"formsubform\">\n\t\t<xsl:choose>\n\t\t<xsl:when test=\"count(.\/value)>1\"> <!-- only bother with the subform header if it doesn't repeat -->\n\t\t\t<div class=\"subform\" id=\"{name(.)}\">\n\t\t\t\t<div class=\"subformheading\"><xsl:value-of select=\"label\"><\/xsl:value-of><\/div>\n\t\t\t\t<xsl:for-each select=\".\/value\/*\">\n\t\t\t\t\t<div class=\"subformrecordheader\">Record <xsl:value-of select=\"position()\"\/><\/div>\n\t\t\t\t\t<xsl:call-template name=\"formsection\"\/>\n\t\t\t\t<\/xsl:for-each>\n\t\t\t<\/div>\n\t\t<\/xsl:when>\n\t\t<xsl:otherwise>\n\t\t\t<xsl:for-each select=\".\/value\/*\">\n\t\t\t\t<xsl:call-template name=\"formsection\"\/>\n\t\t\t<\/xsl:for-each>\n\t\t<\/xsl:otherwise>\n\t\t<\/xsl:choose>\n\t<\/xsl:template>\n  \n<\/xsl:stylesheet>\n"  
}
```

### Testing

> Test data that allows the package to be tested. 
*Russ to detail testing steps*

